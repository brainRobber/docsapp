<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>docsapp</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/newstyle.css">

</head>

<body>

<div class="container-fluid">
    <form class="form-signin">
        <h2 class="form-signin-heading">Enter Customer Id</h2>
        <input type="number" ng-model="customerId" id="customerId" class="form-control" placeholder="Customer Id" required autofocus>

        <button class="btn btn-lg btn-primary btn-block ride-button" ng-click="requestRide()">RIDE NOW</button>
    </form>
</div>
</body>
</html>

<script type="text/JavaScript">

$(document).on("click", ".ride-button", function() {
    console.log('reached here');
    var customerID = $(this).parent().find('.form-control').val();
    console.log(customerID);
    var data = {'customerid': customerID};
    $.ajax({
        method: "POST",
        url: '/customer/add-ride/',
        data: data,
        beforeSend: function(xhr) {
            xhr.setRequestHeader("X-CSRFToken", $("input[name=csrfmiddlwwaretoken]").val());
        },
        success: function(resp) {
            console.log("success");
            console.log(resp);
        },
        error: function(error) {
            console.log('error');
            console.log(error);
        }
    });
});

</script>